[gd_scene load_steps=13 format=3 uid="uid://cdsewocli8rpy"]

[ext_resource type="PackedScene" uid="uid://bn16mxog0h06t" path="res://scenes/level.tscn" id="1_wxf7x"]
[ext_resource type="PackedScene" uid="uid://ewui18jjcr1r" path="res://scenes/player.tscn" id="2_h8jw0"]
[ext_resource type="Shader" path="res://shader/vignette.gdshader" id="3_xho3t"]
[ext_resource type="Script" path="res://scripts/chest.gd" id="4_32v0m"]
[ext_resource type="Script" path="res://scripts/enemy.gd" id="5_j6c4c"]
[ext_resource type="Texture2D" uid="uid://dcrm7uq2ijiow" path="res://Sprites/slime_girl.png" id="6_7asmn"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0gqbr"]
shader = ExtResource("3_xho3t")
shader_parameter/color = Color(0, 0, 0, 1)
shader_parameter/multiplier = 0.164
shader_parameter/softness = 0.799

[sub_resource type="PlaneMesh" id="PlaneMesh_4fuhf"]
size = Vector2(1, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_hd7j2"]
points = PackedVector3Array(-0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kepnr"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
albedo_texture = ExtResource("6_7asmn")
metallic = 0.27

[sub_resource type="PlaneMesh" id="PlaneMesh_07526"]
material = SubResource("StandardMaterial3D_kepnr")
size = Vector2(1, 1.5)
orientation = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_cy8cd"]

[node name="Node3D" type="Node3D"]

[node name="parent" type="Node3D" parent="."]

[node name="level" parent="." instance=ExtResource("1_wxf7x")]
data = {
"cells": PackedInt32Array(0, 65535, 1441792, 0, 0, 1441792, 65535, 0, 1048576, 65535, 65535, 1048576, 65535, 65534, 1048576, 65535, 65533, 1048576, 0, 65534, 1441792, 0, 65533, 1441792, 65535, 65531, 1048577, 65535, 65532, 1048576, 0, 65531, 0, 1, 65532, 655360, 1, 65531, 0, 2, 65531, 0, 2, 65532, 655360, 0, 65532, 655362, 3, 65533, 1048576, 4, 65534, 655360, 7, 65534, 655360, 8, 65533, 1441792, 8, 65532, 1441792, 8, 65531, 1441792, 8, 65530, 1441792, 3, 65530, 1048576, 4, 65529, 0, 5, 65529, 0, 6, 65529, 0, 7, 65529, 0, 8, 65529, 1, 8, 65534, 1441793, 3, 65534, 655361, 3, 65529, 1048577, 3, 65532, 1048578, 3, 65531, 1048578, 4, 65533, 1048578, 4, 65532, 1048578, 4, 65531, 1048578, 4, 65530, 1048578, 5, 65530, 1048578, 5, 65531, 1048578, 5, 65532, 1048578, 5, 65533, 1048578, 6, 65533, 1048578, 6, 65532, 1048578, 6, 65531, 1048578, 6, 65530, 1048578, 7, 65530, 1048578, 7, 65531, 1048578, 7, 65532, 1048578, 7, 65533, 1048578, 0, 1, 1441792, 0, 2, 1441793, 65535, 2, 655361, 65535, 1, 1048576, 6, 65535, 1441792, 5, 65535, 1048576, 6, 65534, 1048578, 5, 65534, 1048578, 5, 0, 1048576, 6, 0, 1441792, 6, 1, 1441792, 5, 1, 1048576, 5, 2, 655361, 6, 2, 1441793)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="player" parent="." instance=ExtResource("2_h8jw0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.877, 0)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_0gqbr")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="chest" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, -6)
script = ExtResource("4_32v0m")

[node name="MeshInstance3D" type="MeshInstance3D" parent="chest"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.5, 0)
mesh = SubResource("PlaneMesh_4fuhf")

[node name="CollisionShape3D" type="CollisionShape3D" parent="chest"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("ConvexPolygonShape3D_hd7j2")

[node name="enemy" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.877, -4)
script = ExtResource("5_j6c4c")

[node name="MeshInstance3D" type="MeshInstance3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, -1, 0, -0.114, 0)
mesh = SubResource("PlaneMesh_07526")

[node name="CollisionShape3D" type="CollisionShape3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_cy8cd")

[node name="RayFront" type="RayCast3D" parent="enemy"]
target_position = Vector3(0, 0, -2.5)

[node name="RayBack" type="RayCast3D" parent="enemy"]
target_position = Vector3(0, 0, 2.5)

[node name="RayRight" type="RayCast3D" parent="enemy"]
target_position = Vector3(2.5, 0, 0)

[node name="RayLeft" type="RayCast3D" parent="enemy"]
target_position = Vector3(-2.5, 0, 0)
